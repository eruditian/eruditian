import{a as e,c as t,d as n,f as r,l as i,o as a,s as o,u as s}from"./index-D5TSYjKE.js";import{t as c}from"./usePlayerMeta-C1i_2vpx.js";var l=r(n(),1);typeof window<`u`&&window.document&&window.document.createElement;function u(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}var d=globalThis?.document?l.useLayoutEffect:()=>{},f=l.useInsertionEffect||d;function p({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){let[i,a,o]=m({defaultProp:t,onChange:n}),s=e!==void 0,c=s?e:i;{let t=l.useRef(e!==void 0);l.useEffect(()=>{let e=t.current;if(e!==s){let t=e?`controlled`:`uncontrolled`,n=s?`controlled`:`uncontrolled`;console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=s},[s,r])}let u=l.useCallback(t=>{if(s){let n=h(t)?t(e):t;n!==e&&o.current?.(n)}else a(t)},[s,e,a,o]);return[c,u]}function m({defaultProp:e,onChange:t}){let[n,r]=l.useState(e),i=l.useRef(n),a=l.useRef(t);return f(()=>{a.current=t},[t]),l.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function h(e){return typeof e==`function`}s();var g=r(i(),1),_=[`a`,`button`,`div`,`form`,`h2`,`h3`,`img`,`input`,`label`,`li`,`nav`,`ol`,`p`,`select`,`span`,`svg`,`ul`].reduce((e,t)=>{let n=o(`Primitive.${t}`),r=l.forwardRef((e,r)=>{let{asChild:i,...a}=e,o=i?n:t;return typeof window<`u`&&(window[Symbol.for(`radix-ui`)]=!0),(0,g.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),v=`Toggle`,y=l.forwardRef((e,t)=>{let{pressed:n,defaultPressed:r,onPressedChange:i,...a}=e,[o,s]=p({prop:n,onChange:i,defaultProp:r??!1,caller:v});return(0,g.jsx)(_.button,{type:`button`,"aria-pressed":o,"data-state":o?`on`:`off`,"data-disabled":e.disabled?``:void 0,...a,ref:t,onClick:u(e.onClick,()=>{e.disabled||s(!o)})})});y.displayName=v;var b=y,x=a(`inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap`,{variants:{variant:{default:`bg-transparent`,outline:`border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground`},size:{default:`h-9 px-2 min-w-9`,sm:`h-8 px-1.5 min-w-8`,lg:`h-10 px-2.5 min-w-10`}},defaultVariants:{variant:`default`,size:`default`}});function S({className:t,variant:n,size:r,...i}){return(0,g.jsx)(b,{"data-slot":`toggle`,className:e(x({variant:n,size:r,className:t})),...i})}var C=[{name:`Player A`,color_preference:`pink`,id:`player_a`},{name:`Player B`,color_preference:`green`,id:`player_b`},{name:`Player C`,color_preference:`yellow`,id:`player_c`}];function w(){let{setActivePlayers:n,players_meta:r,setPlayersMeta:i}=c(),a=r.active_players.length>0;return(0,l.useEffect)(()=>{Object.keys(r.players).length===C.length&&C.every(({id:e})=>!!r.players[e])||i({players:C.reduce((e,t)=>(e[t.id]={...t},e),{}),active_players:[{...C[0],color:C[0].color_preference}],version:3})},[r.players,i]),(0,g.jsxs)(`div`,{className:`flex flex-col gap-8 p-12`,children:[(0,g.jsx)(`div`,{className:`shadow-center-sm flex justify-center gap-4 rounded-lg border-2 p-4 shadow-cyan-700/70`,children:C.map((e,t)=>{let i=r.active_players.findIndex(t=>t.id===e.id);return(0,g.jsx)(S,{className:`inset-shadow-green-500 data-[state=on]:inset-shadow-sm`,variant:`outline`,pressed:i>-1,onPressedChange:()=>{if(i>-1){let e=[...r.active_players];e.splice(i,1),n(e)}else n([...r.active_players,e])},children:e.name},t+e.id+e.color_preference)})}),(0,g.jsxs)(`div`,{className:`shadow-center border-accent-foreground/30 rounded-lg border-2 p-4 shadow-cyan-700/70`,children:[!a&&(0,g.jsx)(`p`,{className:`mb-2 text-center`,children:`Pick some players`}),(0,g.jsxs)(`div`,{className:`flex justify-center gap-4`,children:[(0,g.jsx)(t,{to:`/memory/$size`,params:{size:`12`},disabled:!a,className:e(`border-primary/70 rounded border p-4`,!a&&`opacity-50`),children:`Memory 12`}),(0,g.jsx)(t,{to:`/memory/$size`,params:{size:`16`},disabled:!a,className:e(`border-primary/70 rounded border p-4`,!a&&`opacity-50`),children:`Memory 16`}),(0,g.jsx)(t,{to:`/memory/$size`,params:{size:`20`},disabled:!a,className:e(`border-primary/70 rounded border p-4`,!a&&`opacity-50`),children:`Memory 20`}),(0,g.jsx)(t,{to:`/memory/$size`,params:{size:`24`},disabled:!a,className:e(`border-primary/70 rounded border p-4`,!a&&`opacity-50`),children:`Memory 24`}),(0,g.jsx)(t,{to:`/memory/$size`,params:{size:`28`},disabled:!a,className:e(`border-primary/70 rounded border p-4`,!a&&`opacity-50`),children:`Memory 28`})]})]}),(0,g.jsx)(`div`,{className:`shadow-center border-accent-foreground/30 flex justify-center gap-4 rounded-lg border-2 p-4 shadow-cyan-700/70`,children:(0,g.jsx)(t,{to:`/sequence/$type`,params:{type:`numbers`},className:e(`border-primary/70 rounded border p-4`,!a&&`opacity-50`),children:`123...`})})]})}export{w as component};